---
title: Fedora музыкальная или собираем Ardour из исходников
layout: post
category: Audio
tags:
- CSS
---

# Вступление

Привет всем любителям музыки! Я и сам такой: люблю музыку во всех её проявлениях. И как раз поэтому уже давно вынашиваю идею что-нибудь такое записать, или написать, или замиксовать, в общем сотворить что-нибудь музыкальное. Но так получилось, что у меня ноутбук работает на Fedora 22, и я постоянно придумывал себе отговорки аля *"да на линуксе нет нормального софта для записи"*, или *"у меня всё равно бук не потянет"*.

В свою защиту могу сказать, что я пробовал однажды поставить FL-Studio, с которой я когда-то работал, на виндовую виртуалку. Не пытайтесь повторить - лагадромище невероятное.

Но довольно отговорок! Я погуглил некоторое время и набрёл на Ardour: программа для записи, сведения, редактирования и всего прочего, что можно делать с музыкой.

Ardour - это свободное, но не бесплатное программное обеспечение. Если вы не хотите париться с собиранием из сорцов, вы можете купить готовый к установке пакет. Но раз вы здесь, что-то мне подсказывает, что вы хотите сделать всё своими руками :)

# Приступаем

Вступление получилось долгим, поэтому давайте ставить.

## Достаём сорцы

Клонируем репозиторий.

~~~ bash
git clone git://git.ardour.org/ardour/ardour.git ardour
cd ardour
~~~

На момент написания статьи последней стабильной версией была 4.7, поэтому её и будем ставить. Поменяем ветку на `4.7`

~~~ bash
git checkout 4.7
~~~

## Устанавливаем зависимости

Нам потребуется много зависимостей. Это может быть даже не полным списком, потому что некоторые у меня уже были, но поставьте сначала эти.

~~~ bash
sudo dnf install -y boost-devel glib2-devel alsa-lib-devel glibmm24-devel libsndfile-devel libcurl-devel liblo-devel taglib-devel vamp-plugin-sdk-devel rubberband-devel fftw-devel aubio-devel libxml2-devel cwiid-devel cppunit-devel jack-audio-connection-kit-devel liblrdf-devel lv2-devel serd-devel sratom-devel lilv-devel flac-devel gtkmm-2.4-devel gtkmm24-devel libgnomecanvas-devel libgnomecanvasmm26-devel suil-devel
~~~

## Конфигурируем

~~~ bash
./waf configure
~~~

Если какого-то пакета не будет хватать, вы увидите ошибку, где будет указано название пакета, но нам нужен не только этот пакет, но и заголовочные файлы. Поэтому, если конфигуратор говорит, что вам не хватает пакета `ПАКЕТ`, то ищите что-то типа `ПАКЕТ-devel`, либо `libПАКЕТ-devel`, или `ПАКЕТ-lib-devel`. Вы поняли идею. Если нет - гуглите.

## Собираем

~~~ bash
./waf
~~~

У меня он занял 18 минут и сообщил о завершении таким сообщением `'build' finished successfully (17m59.281s)`

## Запускаем

Переходим в папку с бинарником и запускаем.

~~~ bash
cd gtk2_ardour
./ardev
~~~

## Унываем

Well, shit, как говорится. HiDPI дисплей на линуксе хуже любого наркотика: не можешь жить без него, но и с ним не можешь. Ardour выглядит чертовски мелким, если быть точным - в два раза меньше, чем нужно.

Это проблема преследует меня с момента покупки ноутбука - я около года сидел с мизирными вкладками на хроме и с 200% зумом страниц, пока у него не появилась поддержка HiDPI-дисплеев на линукс. PHP Storm тоже стадал таким недостатком, но это можно поправить в конфигурационном файле одной строчкой.

Возможно, здесь это тоже можно как-то поправить, но лень. Пойду попробую установить *kxstudio*.